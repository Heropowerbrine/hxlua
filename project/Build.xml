<?xml version="1.0" encoding="UTF-8"?>
<xml>
	<files id="lua">
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lapi.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lauxlib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lbaselib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lcode.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lcorolib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lctype.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/ldblib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/ldebug.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/ldo.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/ldump.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lfunc.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lgc.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/linit.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/liolib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/llex.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lmathlib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lmem.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/loadlib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lobject.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lopcodes.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/loslib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lparser.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lstate.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lstring.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lstrlib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/ltable.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/ltablib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/ltm.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lundump.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lutf8lib.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lvm.c" />
		<file name="${haxelib:hxlua}/project/lua-5.4.4/src/lzio.c" />
	</files>

	<files id="haxe">
		<compilervalue name="-I" value="${haxelib:hxlua}/project/lua-5.4.4/src/" />
	</files>

	<target id="haxe">
		<files id="lua" />

		<section if="windows">
			<compilerflag value="-DLUA_USE_WINDOWS" />
			<compilerflag value="-DLUA_USE_READLINE" />
			<compilerflag value="-DLUA_USE_APICHECK" />

			<flag value="-lreadline" />
		</section>

		<section if="linux">
			<compilerflag value="-DLUA_USE_LINUX" />
			<compilerflag value="-DLUA_USE_READLINE" />
			<compilerflag value="-DLUA_USE_APICHECK" />

			<flag value="-Wl,-E" />
			<flag value="-ldl" />
			<flag value="-lreadline" />
		</section>

		<section if="mac">
			<compilerflag value="-DLUA_USE_MACOSX" />
			<compilerflag value="-DLUA_USE_READLINE" />
			<compilerflag value="-DLUA_USE_APICHECK" />

			<flag value="-lreadline" />
		</section>

		<!-- Lua 5.4.5 will have iOS build issues fixed but until then, isn't working -->
		<section if="android || ios">
			<compilerflag value="-DLUA_ANSI" />
			<compilerflag value="-DLUA_USE_READLINE" />
			<compilerflag value="-DLUA_USE_APICHECK" />

			<flag value="-lreadline" />
		</section>
	</target>
</xml>
