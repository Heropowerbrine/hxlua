<?xml version="1.0" encoding="UTF-8"?>
<xml>
	<files id="lua">
		<file name="${haxelib:hxlua}/project/lua/lapi.c" />
		<file name="${haxelib:hxlua}/project/lua/lauxlib.c" />
		<file name="${haxelib:hxlua}/project/lua/lbaselib.c" />
		<file name="${haxelib:hxlua}/project/lua/lcode.c" />
		<file name="${haxelib:hxlua}/project/lua/lcorolib.c" />
		<file name="${haxelib:hxlua}/project/lua/lctype.c" />
		<file name="${haxelib:hxlua}/project/lua/ldblib.c" />
		<file name="${haxelib:hxlua}/project/lua/ldebug.c" />
		<file name="${haxelib:hxlua}/project/lua/ldo.c" />
		<file name="${haxelib:hxlua}/project/lua/ldump.c" />
		<file name="${haxelib:hxlua}/project/lua/lfunc.c" />
		<file name="${haxelib:hxlua}/project/lua/lgc.c" />
		<file name="${haxelib:hxlua}/project/lua/linit.c" />
		<file name="${haxelib:hxlua}/project/lua/liolib.c" />
		<file name="${haxelib:hxlua}/project/lua/llex.c" />
		<file name="${haxelib:hxlua}/project/lua/lmathlib.c" />
		<file name="${haxelib:hxlua}/project/lua/lmem.c" />
		<file name="${haxelib:hxlua}/project/lua/loadlib.c" />
		<file name="${haxelib:hxlua}/project/lua/lobject.c" />
		<file name="${haxelib:hxlua}/project/lua/lopcodes.c" />
		<file name="${haxelib:hxlua}/project/lua/loslib.c" />
		<file name="${haxelib:hxlua}/project/lua/lparser.c" />
		<file name="${haxelib:hxlua}/project/lua/lstate.c" />
		<file name="${haxelib:hxlua}/project/lua/lstring.c" />
		<file name="${haxelib:hxlua}/project/lua/lstrlib.c" />
		<file name="${haxelib:hxlua}/project/lua/ltable.c" />
		<file name="${haxelib:hxlua}/project/lua/ltablib.c" />
		<file name="${haxelib:hxlua}/project/lua/ltm.c" />
		<file name="${haxelib:hxlua}/project/lua/lundump.c" />
		<file name="${haxelib:hxlua}/project/lua/lutf8lib.c" />
		<file name="${haxelib:hxlua}/project/lua/lvm.c" />
		<file name="${haxelib:hxlua}/project/lua/lzio.c" />
	</files>

	<files id="haxe">
		<compilervalue name="-I" value="${haxelib:hxlua}/project/lua/" />
	</files>

	<target id="haxe">
		<files id="lua" />

		<section if="windows">
			<compilerflag value="-DLUA_USE_WINDOWS" />
			<compilerflag value="-DLUA_USE_READLINE" />
			<compilerflag value="-DLUA_USE_APICHECK" />

			<flag value="-lreadline" />
		</section>

		<section if="linux">
			<compilerflag value="-DLUA_USE_LINUX" />
			<compilerflag value="-DLUA_USE_READLINE" />
			<compilerflag value="-DLUA_USE_APICHECK" />

			<flag value="-Wl,-E" />
			<flag value="-ldl" />
			<flag value="-lreadline" />
		</section>

		<section if="mac">
			<compilerflag value="-DLUA_USE_MACOSX" />
			<compilerflag value="-DLUA_USE_READLINE" />
			<compilerflag value="-DLUA_USE_APICHECK" />

			<flag value="-lreadline" />
		</section>

		<!-- Lua 5.4.5 will have iOS build issues fixed but until then, isn't working -->
		<section if="android || ios">
			<compilerflag value="-DLUA_ANSI" />
			<compilerflag value="-DLUA_USE_READLINE" />
			<compilerflag value="-DLUA_USE_APICHECK" />

			<flag value="-lreadline" />
		</section>
	</target>
</xml>
